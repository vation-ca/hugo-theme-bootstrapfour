{{ define "json-ld" }}
{{ partial "resources/head-jsonld.html" . }} 
{{ end }}
{{ define "title" }}{{ .Title | markdownify }} | {{ .Site.Title }}{{ end }}
{{ define "main" }}
    <main role="main" property="mainContentOfPage" class="container">
    <div class="row">
        <div class="col-md-12">
            <article class="post">
                <header>
                    <h1 id="wb-cont" property="name">
                        {{ .Title }}
                    </h1>
                    {{ partial "snippets/authoravatar" .}}
                </header>
                <div class="post-content">
                    {{ .Content }}
                </div>
                <aside>
                    {{ $baseurl := .Site.BaseURL -}}
                    <ul class="list-inline post-tags">
                        {{ range .Params.tags -}}
                        <li>
                            <a href="{{ $baseurl }}tags/{{ . | urlize }}/">
                                <i class="fas fa-tag" aria-hidden=true></i>
                                {{ . }}
                            </a>
                        </li>
                        {{- end }}
                    </ul>
                    {{ if .Site.Params.ShowRelatedPost -}}
                    <h3>Related Post</h3>
                    <ul class="post-rels">
                        {{ $page_link := .Permalink -}}{{ $tags := .Params.tags -}}
                        {{ range .Site.Pages -}}{{ $page := . -}}{{ $has_common_tags := intersect $tags .Params.tags | len | lt 0 -}}
                        {{ if and $has_common_tags (ne $page_link $page.Permalink) -}}<li><a href="{{ $page.Permalink }}">{{ $page.Title }}</a></li>{{ end -}}
                        {{- end }}
                    </ul>
                    {{ end -}}
                </aside>
                <footer>
                    {{ partial "components/pager.html" . }}
                </footer>
            </article>
        </div>        
    </div>
    </main>
{{ end }}